<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Product ‚Äî MC Store</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <meta name="theme-color" content="#0a0f1e">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f6fa;
      --white: #ffffff;
      --dark: #0d1117;
      --text: #1a1f36;
      --sub: #6b7280;
      --border: #e8eaf0;
      --blue: #1a56db;
      --blue-light: #eff6ff;
      --green: #10b981;
      --red: #ef4444;
      --orange: #f59e0b;
      --shadow: 0 2px 16px rgba(0,0,0,0.08);
      --shadow-lg: 0 8px 40px rgba(0,0,0,0.14);
      --r: 16px;
      --r-sm: 10px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body { font-family: 'DM Sans', sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; }

    /* ‚îÄ‚îÄ TOP NAV ‚îÄ‚îÄ */
    .top-nav {
      position: sticky; top: 0; z-index: 100;
      background: var(--white);
      border-bottom: 1px solid var(--border);
      padding: 14px 16px;
      display: flex; align-items: center; gap: 12px;
    }
    .nav-back {
      width: 38px; height: 38px; border-radius: 50%;
      background: var(--bg); border: none; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      font-size: 16px; color: var(--text); flex-shrink: 0;
      transition: background 0.2s;
    }
    .nav-back:active { background: var(--border); }
    .nav-title {
      flex: 1; font-size: 15px; font-weight: 600;
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .nav-actions { display: flex; gap: 8px; }
    .nav-btn {
      width: 38px; height: 38px; border-radius: 50%;
      background: var(--bg); border: none; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      font-size: 15px; color: var(--text); position: relative;
      transition: background 0.2s;
    }
    .nav-btn:active { background: var(--border); }
    .nav-btn .badge {
      position: absolute; top: 4px; right: 4px;
      width: 16px; height: 16px; border-radius: 50%;
      background: var(--red); color: #fff;
      font-size: 9px; font-weight: 700;
      display: none; align-items: center; justify-content: center;
    }
    .nav-btn .badge.show { display: flex; }

    /* ‚îÄ‚îÄ SKELETON LOADER ‚îÄ‚îÄ */
    .skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: shimmer 1.4s infinite; border-radius: 8px; }
    @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
    #skeletonView { display: block; padding: 16px; }
    .sk-img { width: 100%; height: 300px; border-radius: var(--r); margin-bottom: 12px; }
    .sk-dots { display: flex; gap: 8px; justify-content: center; margin-bottom: 20px; }
    .sk-dot { width: 8px; height: 8px; border-radius: 50%; }
    .sk-line { height: 14px; margin-bottom: 10px; }
    .sk-line.wide { width: 90%; }
    .sk-line.mid { width: 60%; }
    .sk-line.short { width: 35%; }
    .sk-price { height: 28px; width: 45%; margin-bottom: 20px; border-radius: 8px; }

    /* ‚îÄ‚îÄ MAIN CONTENT ‚îÄ‚îÄ */
    #productView { display: none; }

    /* ‚îÄ‚îÄ IMAGE GALLERY ‚îÄ‚îÄ */
    .gallery-wrap { background: var(--white); position: relative; overflow: hidden; }
    .gallery-scroll {
      display: flex; overflow-x: auto; scroll-snap-type: x mandatory;
      scrollbar-width: none; -ms-overflow-style: none;
    }
    .gallery-scroll::-webkit-scrollbar { display: none; }
    .gallery-slide {
      min-width: 100%; scroll-snap-align: start;
      aspect-ratio: 1/1; position: relative; cursor: pointer;
    }
    .gallery-slide img {
      width: 100%; height: 100%; object-fit: cover;
      transition: transform 0.3s ease;
    }
    .gallery-slide:active img { transform: scale(0.97); }
    .gallery-dots {
      position: absolute; bottom: 14px; left: 50%; transform: translateX(-50%);
      display: flex; gap: 6px; z-index: 10;
    }
    .gallery-dot {
      width: 7px; height: 7px; border-radius: 50%;
      background: rgba(255,255,255,0.5); transition: all 0.3s;
      cursor: pointer;
    }
    .gallery-dot.active { background: #fff; width: 20px; border-radius: 4px; }
    .gallery-count {
      position: absolute; top: 14px; right: 14px;
      background: rgba(0,0,0,0.55); color: #fff;
      font-size: 11px; font-weight: 600;
      padding: 4px 10px; border-radius: 20px; backdrop-filter: blur(4px);
    }

    /* ‚îÄ‚îÄ FULLSCREEN VIEWER ‚îÄ‚îÄ */
    #fullscreenViewer {
      position: fixed; inset: 0; z-index: 999;
      background: #000;
      display: none; flex-direction: column;
      align-items: center; justify-content: center;
    }
    #fullscreenViewer.open { display: flex; }
    .fs-close {
      position: absolute; top: 16px; right: 16px;
      width: 40px; height: 40px; border-radius: 50%;
      background: rgba(255,255,255,0.15); border: none;
      color: #fff; font-size: 18px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      backdrop-filter: blur(8px); z-index: 10;
    }
    .fs-counter {
      position: absolute; top: 22px; left: 50%; transform: translateX(-50%);
      color: rgba(255,255,255,0.8); font-size: 13px; font-weight: 600;
    }
    .fs-scroll {
      width: 100%; height: 100%;
      display: flex; overflow-x: auto; scroll-snap-type: x mandatory;
      scrollbar-width: none;
    }
    .fs-scroll::-webkit-scrollbar { display: none; }
    .fs-slide {
      min-width: 100%; height: 100%; scroll-snap-align: start;
      display: flex; align-items: center; justify-content: center;
      padding: 60px 0;
    }
    .fs-slide img {
      max-width: 100%; max-height: 100%;
      object-fit: contain;
    }
    .fs-prev, .fs-next {
      position: absolute; top: 50%; transform: translateY(-50%);
      width: 36px; height: 36px; border-radius: 50%;
      background: rgba(255,255,255,0.15); border: none;
      color: #fff; font-size: 14px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      backdrop-filter: blur(8px);
    }
    .fs-prev { left: 12px; }
    .fs-next { right: 12px; }

    /* ‚îÄ‚îÄ PRODUCT INFO ‚îÄ‚îÄ */
    .product-info { background: var(--white); padding: 18px 16px; margin-top: 8px; }
    .product-badges { display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
    .badge-pill {
      padding: 3px 10px; border-radius: 20px;
      font-size: 11px; font-weight: 600;
    }
    .badge-cat { background: var(--blue-light); color: var(--blue); }
    .badge-cond { background: #f0fdf4; color: #16a34a; }
    .badge-cond.used { background: #fef3c7; color: #b45309; }
    .product-title {
      font-family: 'DM Sans', sans-serif;
      font-size: 19px; font-weight: 700; line-height: 1.35;
      margin-bottom: 10px; color: var(--text);
    }
    .price-row { display: flex; align-items: baseline; gap: 10px; margin-bottom: 12px; }
    .price-main { font-size: 26px; font-weight: 700; color: var(--blue); }
    .price-old { font-size: 14px; color: var(--sub); text-decoration: line-through; }
    .price-discount {
      background: #fef2f2; color: var(--red);
      font-size: 11px; font-weight: 700;
      padding: 2px 7px; border-radius: 6px;
    }
    .rating-row { display: flex; align-items: center; gap: 8px; margin-bottom: 14px; }
    .stars { color: var(--orange); font-size: 13px; letter-spacing: 1px; }
    .rating-count { font-size: 13px; color: var(--sub); }
    .stock-row { display: flex; align-items: center; gap: 6px; margin-bottom: 6px; }
    .stock-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--green); }
    .stock-dot.low { background: var(--orange); }
    .stock-dot.out { background: var(--red); }
    .stock-text { font-size: 13px; color: var(--sub); }

    /* ‚îÄ‚îÄ QUANTITY SELECTOR ‚îÄ‚îÄ */
    .qty-section { background: var(--white); padding: 16px; margin-top: 8px; }
    .qty-label { font-size: 13px; font-weight: 600; color: var(--sub); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.5px; }
    .qty-row { display: flex; align-items: center; gap: 16px; }
    .qty-btn {
      width: 40px; height: 40px; border-radius: 50%;
      border: 2px solid var(--border); background: var(--white);
      font-size: 18px; font-weight: 600; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: var(--text); transition: all 0.2s;
    }
    .qty-btn:active { background: var(--blue); border-color: var(--blue); color: #fff; transform: scale(0.92); }
    .qty-num { font-size: 20px; font-weight: 700; min-width: 32px; text-align: center; }
    .qty-total { margin-left: auto; font-size: 14px; color: var(--sub); }
    .qty-total span { color: var(--blue); font-weight: 700; }

    /* ‚îÄ‚îÄ ACTION BUTTONS ‚îÄ‚îÄ */
    .action-section { padding: 16px; background: var(--white); margin-top: 8px; display: flex; flex-direction: column; gap: 10px; }
    .btn-cart {
      width: 100%; padding: 16px;
      background: var(--blue); color: #fff;
      border: none; border-radius: var(--r); cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      font-size: 16px; font-weight: 700;
      display: flex; align-items: center; justify-content: center; gap: 10px;
      transition: all 0.2s; box-shadow: 0 4px 16px rgba(26,86,219,0.3);
    }
    .btn-cart:active { transform: scale(0.97); }
    .btn-cart.added { background: var(--green); box-shadow: 0 4px 16px rgba(16,185,129,0.3); }
    .btn-cart:disabled { opacity: 0.6; cursor: not-allowed; }
    .btn-row { display: flex; gap: 10px; }
    .btn-wish, .btn-whatsapp, .btn-share {
      flex: 1; padding: 14px;
      border-radius: var(--r); cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      font-size: 14px; font-weight: 600;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: all 0.2s;
    }
    .btn-wish {
      background: #fff0f3; color: #e11d48;
      border: 2px solid #fecdd3;
    }
    .btn-wish.active { background: #e11d48; color: #fff; border-color: #e11d48; }
    .btn-wish:active { transform: scale(0.97); }
    .btn-whatsapp {
      background: #f0fdf4; color: #16a34a;
      border: 2px solid #bbf7d0;
    }
    .btn-whatsapp:active { transform: scale(0.97); background: #16a34a; color: #fff; }
    .btn-share {
      background: var(--bg); color: var(--text);
      border: 2px solid var(--border);
      flex: none; width: 52px; padding: 0;
    }
    .btn-share:active { transform: scale(0.97); }

    /* ‚îÄ‚îÄ DESCRIPTION ‚îÄ‚îÄ */
    .desc-section { background: var(--white); padding: 18px 16px; margin-top: 8px; }
    .section-title { font-size: 15px; font-weight: 700; margin-bottom: 12px; color: var(--text); display: flex; align-items: center; gap: 8px; }
    .section-title::before { content: ''; width: 4px; height: 18px; background: var(--blue); border-radius: 2px; display: block; }
    .desc-text { font-size: 14px; line-height: 1.7; color: #4b5563; white-space: pre-wrap; }
    .desc-more {
      margin-top: 10px; background: none; border: none;
      color: var(--blue); font-size: 13px; font-weight: 600;
      cursor: pointer; padding: 0;
    }

    /* ‚îÄ‚îÄ PRODUCT SPECS ‚îÄ‚îÄ */
    .specs-section { background: var(--white); padding: 18px 16px; margin-top: 8px; }
    .spec-row { display: flex; padding: 10px 0; border-bottom: 1px solid var(--border); }
    .spec-row:last-child { border-bottom: none; }
    .spec-key { font-size: 13px; color: var(--sub); width: 110px; flex-shrink: 0; }
    .spec-val { font-size: 13px; font-weight: 600; color: var(--text); }

    /* ‚îÄ‚îÄ REVIEWS ‚îÄ‚îÄ */
    .reviews-section { background: var(--white); padding: 18px 16px; margin-top: 8px; }
    .rating-summary { display: flex; gap: 20px; align-items: center; margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid var(--border); }
    .big-rating { text-align: center; }
    .big-num { font-size: 48px; font-weight: 700; color: var(--text); line-height: 1; }
    .big-stars { color: var(--orange); font-size: 16px; margin: 4px 0; }
    .big-count { font-size: 12px; color: var(--sub); }
    .rating-bars { flex: 1; }
    .bar-row { display: flex; align-items: center; gap: 8px; margin-bottom: 5px; }
    .bar-label { font-size: 11px; color: var(--sub); width: 8px; }
    .bar-track { flex: 1; height: 6px; background: var(--border); border-radius: 3px; overflow: hidden; }
    .bar-fill { height: 100%; background: var(--orange); border-radius: 3px; transition: width 0.6s ease; }
    .bar-count { font-size: 11px; color: var(--sub); width: 20px; text-align: right; }
    .review-card { padding: 14px 0; border-bottom: 1px solid var(--border); }
    .review-card:last-child { border-bottom: none; }
    .review-header { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
    .review-avatar {
      width: 36px; height: 36px; border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex; align-items: center; justify-content: center;
      color: #fff; font-size: 14px; font-weight: 700; flex-shrink: 0;
    }
    .review-name { font-size: 13px; font-weight: 600; }
    .review-date { font-size: 11px; color: var(--sub); }
    .review-stars { color: var(--orange); font-size: 12px; }
    .review-text { font-size: 13px; line-height: 1.6; color: #4b5563; }
    .write-review {
      width: 100%; margin-top: 14px; padding: 13px;
      border: 2px dashed var(--border); border-radius: var(--r);
      background: none; cursor: pointer; color: var(--blue);
      font-size: 14px; font-weight: 600; font-family: 'DM Sans', sans-serif;
      transition: all 0.2s;
    }
    .write-review:active { background: var(--blue-light); }

    /* ‚îÄ‚îÄ REVIEW MODAL ‚îÄ‚îÄ */
    #reviewModal {
      position: fixed; inset: 0; z-index: 500;
      background: rgba(0,0,0,0.5); backdrop-filter: blur(4px);
      display: none; align-items: flex-end; justify-content: center;
    }
    #reviewModal.open { display: flex; }
    .review-sheet {
      width: 100%; max-width: 480px;
      background: var(--white); border-radius: 24px 24px 0 0;
      padding: 20px 20px 32px;
      animation: slideUp 0.35s cubic-bezier(.34,1.56,.64,1) both;
    }
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    .sheet-handle { width: 40px; height: 4px; background: var(--border); border-radius: 2px; margin: 0 auto 18px; }
    .sheet-title { font-size: 17px; font-weight: 700; margin-bottom: 16px; }
    .star-picker { display: flex; gap: 8px; margin-bottom: 16px; }
    .star-pick {
      font-size: 32px; cursor: pointer; transition: transform 0.15s;
      color: #d1d5db;
    }
    .star-pick.lit { color: var(--orange); }
    .star-pick:active { transform: scale(1.25); }
    .review-input {
      width: 100%; padding: 12px 14px;
      border: 2px solid var(--border); border-radius: var(--r-sm);
      font-size: 14px; font-family: 'DM Sans', sans-serif;
      resize: none; outline: none; color: var(--text);
      transition: border 0.2s;
    }
    .review-input:focus { border-color: var(--blue); }
    .submit-review {
      width: 100%; margin-top: 12px; padding: 15px;
      background: var(--blue); color: #fff; border: none;
      border-radius: var(--r); cursor: pointer;
      font-size: 15px; font-weight: 700; font-family: 'DM Sans', sans-serif;
      transition: all 0.2s;
    }
    .submit-review:active { transform: scale(0.97); }

    /* ‚îÄ‚îÄ RELATED PRODUCTS ‚îÄ‚îÄ */
    .related-section { background: var(--white); padding: 18px 16px; margin-top: 8px; margin-bottom: 100px; }
    .related-scroll {
      display: flex; gap: 12px; overflow-x: auto;
      scrollbar-width: none; padding-bottom: 4px;
    }
    .related-scroll::-webkit-scrollbar { display: none; }
    .related-card {
      min-width: 150px; border-radius: var(--r-sm);
      border: 1px solid var(--border); overflow: hidden;
      cursor: pointer; background: var(--white);
      transition: transform 0.2s, box-shadow 0.2s;
      flex-shrink: 0;
    }
    .related-card:active { transform: scale(0.96); box-shadow: var(--shadow); }
    .related-img { width: 150px; height: 150px; object-fit: cover; display: block; }
    .related-img-placeholder {
      width: 150px; height: 150px;
      background: var(--bg); display: flex;
      align-items: center; justify-content: center;
      color: var(--border); font-size: 32px;
    }
    .related-info { padding: 8px 10px; }
    .related-name {
      font-size: 12px; font-weight: 600; line-height: 1.4;
      overflow: hidden; display: -webkit-box;
      -webkit-line-clamp: 2; -webkit-box-orient: vertical;
      margin-bottom: 4px;
    }
    .related-price { font-size: 13px; font-weight: 700; color: var(--blue); }

    /* ‚îÄ‚îÄ STICKY BOTTOM BAR ‚îÄ‚îÄ */
    .sticky-bar {
      position: fixed; bottom: 0; left: 0; right: 0; z-index: 90;
      background: var(--white); border-top: 1px solid var(--border);
      padding: 12px 16px; display: flex; gap: 10px;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
    }
    .sticky-wish {
      width: 50px; height: 50px; border-radius: var(--r-sm);
      border: 2px solid var(--border); background: var(--white);
      display: flex; align-items: center; justify-content: center;
      font-size: 18px; cursor: pointer; color: var(--sub);
      transition: all 0.2s; flex-shrink: 0;
    }
    .sticky-wish.active { color: #e11d48; border-color: #fecdd3; background: #fff0f3; }
    .sticky-cart {
      flex: 1; height: 50px; border-radius: var(--r-sm);
      background: var(--blue); color: #fff; border: none;
      font-size: 15px; font-weight: 700; cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: all 0.2s; box-shadow: 0 4px 16px rgba(26,86,219,0.25);
    }
    .sticky-cart:active { transform: scale(0.97); }
    .sticky-cart.added { background: var(--green); }
    .sticky-cart:disabled { opacity: 0.6; }

    /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
    #toast {
      position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%) translateY(20px);
      background: var(--dark); color: #fff;
      padding: 12px 20px; border-radius: 30px;
      font-size: 13px; font-weight: 600;
      white-space: nowrap; opacity: 0; pointer-events: none;
      transition: all 0.3s; z-index: 9999;
      display: flex; align-items: center; gap: 8px;
    }
    #toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
    #toast.success { background: var(--green); }
    #toast.error { background: var(--red); }

    /* ‚îÄ‚îÄ NOT FOUND ‚îÄ‚îÄ */
    #notFound { display: none; flex-direction: column; align-items: center; justify-content: center; min-height: 60vh; gap: 12px; }
    #notFound i { font-size: 48px; color: var(--border); }
    #notFound p { font-size: 16px; color: var(--sub); font-weight: 600; }
  </style>
</head>
<body>

<!-- TOP NAV -->
<nav class="top-nav">
  <button class="nav-back" onclick="history.back()"><i class="fas fa-arrow-left"></i></button>
  <span class="nav-title" id="navTitle">Product</span>
  <div class="nav-actions">
    <button class="nav-btn" onclick="shareProduct()" title="Share"><i class="fas fa-share-alt"></i></button>
    <button class="nav-btn" onclick="location.href='cart.html'" title="Cart">
      <i class="fas fa-shopping-cart"></i>
      <span class="badge" id="cartBadge">0</span>
    </button>
  </div>
</nav>

<!-- SKELETON LOADER -->
<div id="skeletonView">
  <div class="sk-img skeleton"></div>
  <div class="sk-dots"><div class="sk-dot skeleton"></div><div class="sk-dot skeleton"></div><div class="sk-dot skeleton"></div></div>
  <div style="padding:0 16px">
    <div class="sk-line wide skeleton"></div>
    <div class="sk-line mid skeleton"></div>
    <div class="sk-price skeleton"></div>
    <div class="sk-line short skeleton"></div>
  </div>
</div>

<!-- NOT FOUND -->
<div id="notFound">
  <i class="fas fa-box-open"></i>
  <p>Product not found</p>
  <button onclick="history.back()" style="padding:12px 24px;background:var(--blue);color:#fff;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;">Go Back</button>
</div>

<!-- PRODUCT VIEW -->
<div id="productView">

  <!-- IMAGE GALLERY -->
  <div class="gallery-wrap">
    <div class="gallery-scroll" id="galleryScroll"></div>
    <div class="gallery-dots" id="galleryDots"></div>
    <div class="gallery-count" id="galleryCount">1/1</div>
  </div>

  <!-- PRODUCT INFO -->
  <div class="product-info">
    <div class="product-badges" id="productBadges"></div>
    <h1 class="product-title" id="productTitle">‚Äî</h1>
    <div class="price-row">
      <span class="price-main" id="productPrice">‚Äî</span>
      <span class="price-old" id="productOldPrice" style="display:none"></span>
      <span class="price-discount" id="productDiscount" style="display:none"></span>
    </div>
    <div class="rating-row" id="ratingRow">
      <div class="stars" id="starsDisplay">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <span class="rating-count" id="ratingCount">(0 reviews)</span>
    </div>
    <div class="stock-row">
      <div class="stock-dot" id="stockDot"></div>
      <span class="stock-text" id="stockText">In stock</span>
    </div>
  </div>

  <!-- QUANTITY -->
  <div class="qty-section">
    <div class="qty-label">Quantity</div>
    <div class="qty-row">
      <button class="qty-btn" id="qtyMinus" onclick="changeQty(-1)">‚àí</button>
      <span class="qty-num" id="qtyNum">1</span>
      <button class="qty-btn" id="qtyPlus" onclick="changeQty(1)">+</button>
      <span class="qty-total">Total: <span id="qtyTotal">‚Ç¶0</span></span>
    </div>
  </div>

  <!-- ACTION BUTTONS -->
  <div class="action-section">
    <button class="btn-cart" id="addCartBtn" onclick="handleAddToCart()">
      <i class="fas fa-cart-plus"></i> Add to Cart
    </button>
    <div class="btn-row">
      <button class="btn-wish" id="wishBtn" onclick="handleWishlist()">
        <i class="far fa-heart"></i> Wishlist
      </button>
      <button class="btn-whatsapp" id="whatsappBtn" onclick="contactWhatsApp()">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </button>
      <button class="btn-share" onclick="shareProduct()" title="Share">
        <i class="fas fa-share-alt"></i>
      </button>
    </div>
  </div>

  <!-- DESCRIPTION -->
  <div class="desc-section" id="descSection" style="display:none">
    <div class="section-title">Description</div>
    <div class="desc-text" id="descText"></div>
    <button class="desc-more" id="descMoreBtn" onclick="toggleDesc()" style="display:none">Read more</button>
  </div>

  <!-- SPECS -->
  <div class="specs-section">
    <div class="section-title">Product Details</div>
    <div id="specRows"></div>
  </div>

  <!-- REVIEWS -->
  <div class="reviews-section">
    <div class="section-title">Reviews</div>
    <div class="rating-summary">
      <div class="big-rating">
        <div class="big-num" id="bigRating">5.0</div>
        <div class="big-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        <div class="big-count" id="bigCount">0 reviews</div>
      </div>
      <div class="rating-bars" id="ratingBars"></div>
    </div>
    <div id="reviewsList"></div>
    <button class="write-review" onclick="openReviewModal()">
      <i class="fas fa-pen"></i> Write a Review
    </button>
  </div>

  <!-- RELATED PRODUCTS -->
  <div class="related-section">
    <div class="section-title">You May Also Like</div>
    <div class="related-scroll" id="relatedScroll">
      <div style="color:var(--sub);font-size:13px;padding:8px 0;">Loading‚Ä¶</div>
    </div>
  </div>

</div><!-- /productView -->

<!-- STICKY BOTTOM BAR -->
<div class="sticky-bar">
  <button class="sticky-wish" id="stickyWish" onclick="handleWishlist()"><i class="far fa-heart"></i></button>
  <button class="sticky-cart" id="stickyCart" onclick="handleAddToCart()">
    <i class="fas fa-cart-plus"></i> Add to Cart
  </button>
</div>

<!-- TOAST -->
<div id="toast"></div>

<!-- FULLSCREEN IMAGE VIEWER -->
<div id="fullscreenViewer">
  <button class="fs-close" onclick="closeFullscreen()"><i class="fas fa-times"></i></button>
  <div class="fs-counter" id="fsCounter">1/1</div>
  <div class="fs-scroll" id="fsScroll"></div>
  <button class="fs-prev" onclick="fsNav(-1)"><i class="fas fa-chevron-left"></i></button>
  <button class="fs-next" onclick="fsNav(1)"><i class="fas fa-chevron-right"></i></button>
</div>

<!-- REVIEW MODAL -->
<div id="reviewModal" onclick="closeReviewModal(event)">
  <div class="review-sheet">
    <div class="sheet-handle"></div>
    <div class="sheet-title">Write a Review</div>
    <div class="star-picker" id="starPicker">
      <span class="star-pick" data-val="1" onclick="setStars(1)">‚òÖ</span>
      <span class="star-pick" data-val="2" onclick="setStars(2)">‚òÖ</span>
      <span class="star-pick" data-val="3" onclick="setStars(3)">‚òÖ</span>
      <span class="star-pick" data-val="4" onclick="setStars(4)">‚òÖ</span>
      <span class="star-pick" data-val="5" onclick="setStars(5)">‚òÖ</span>
    </div>
    <textarea class="review-input" id="reviewText" placeholder="Share your experience with this product‚Ä¶" rows="4"></textarea>
    <button class="submit-review" onclick="submitReview()">Post Review</button>
  </div>
</div>

<script type="module">
import { getSession } from './session.js';
import {
  db_getProductById as getProductById,
  db_getProducts   as getProducts,
  db_addToCart,
  db_addToWishlist,
  db_removeFromWishlist,
  db_isInWishlist,
  db_getWishlistCount,
  db_getCartCount,
  db_getReviews,
  db_addReview,
  sid
} from './db.js';

// ‚îÄ‚îÄ FORMAT PRICE ‚îÄ‚îÄ
function formatPrice(n) { return '‚Ç¶' + Number(n).toLocaleString('en-NG'); }

// ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ
const WHATSAPP_NUMBER = "2348056230366"; // +234 805 623 0366

// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ
let product      = null;
let currentUser  = null;
let quantity     = 1;
let inWishlist   = false;
let galleryIndex = 0;
let allImages    = [];
let selectedStars = 0;
let reviews      = [];
let descExpanded = false;

// ‚îÄ‚îÄ GET PRODUCT ID FROM URL ‚îÄ‚îÄ
const params    = new URLSearchParams(location.search);
const productId = params.get('id');

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
(async () => {
  try {
    // Get session
    const session = await getSession();
    currentUser = session || null;  // session from IndexedDB is the user object

    // Update cart badge
    if (currentUser) {
      const count = await db_getCartCount(currentUser.uid || currentUser.id);
      updateCartBadge(count);
    }

    if (!productId) { showNotFound(); return; }

    // Fetch product
    product = await getProductById(productId);
    if (!product) { showNotFound(); return; }

    // Check if product is in wishlist
    if (currentUser) {
      const uid = currentUser.uid || currentUser.id;
      try {
        inWishlist = await db_isInWishlist(uid, productId);
      } catch(e) { inWishlist = false; }
    }

    renderProduct();
    syncWishButtons();
    loadRelated();
    loadReviews();

  } catch(e) {
    console.error('Init error:', e);
    showNotFound();
  }
})();

// ‚îÄ‚îÄ RENDER PRODUCT ‚îÄ‚îÄ
function renderProduct() {
  document.getElementById('skeletonView').style.display = 'none';
  document.getElementById('productView').style.display  = 'block';
  document.title = `${product.name || product.title} ‚Äî MC Store`;

  // Nav title
  document.getElementById('navTitle').textContent = product.name || product.title;

  // Images
  allImages = [];
  if (Array.isArray(product.images) && product.images.length > 0) {
    allImages = product.images;
  } else if (product.image_url) {
    allImages = [product.image_url];
  }
  renderGallery();

  // Badges
  const badges = document.getElementById('productBadges');
  badges.innerHTML = '';
  if (product.category) badges.innerHTML += `<span class="badge-pill badge-cat">${product.category}</span>`;
  if (product.condition) {
    const isUsed = ['Used','Fair','Good'].includes(product.condition);
    badges.innerHTML += `<span class="badge-pill badge-cond ${isUsed?'used':''}">${product.condition}</span>`;
  }

  // Title & Price
  document.getElementById('productTitle').textContent = product.name || product.title;

  // Show promo_price as selling price, original as crossed-out
  const sellPrice = product.display_price || product.price;
  const origPrice = product.original_price;
  document.getElementById('productPrice').textContent = formatPrice(sellPrice);

  if (origPrice && origPrice > sellPrice) {
    const discPct = Math.round((1 - sellPrice / origPrice) * 100);
    document.getElementById('productOldPrice').textContent = formatPrice(origPrice);
    document.getElementById('productOldPrice').style.display = 'inline';
    document.getElementById('productDiscount').textContent  = `-${discPct}%`;
    document.getElementById('productDiscount').style.display = 'inline';
  } else if (product.discount > 0) {
    const oldPrice = product.price / (1 - product.discount / 100);
    document.getElementById('productOldPrice').textContent = formatPrice(oldPrice);
    document.getElementById('productOldPrice').style.display = 'inline';
    document.getElementById('productDiscount').textContent  = `-${product.discount}%`;
    document.getElementById('productDiscount').style.display = 'inline';
  }

  // Rating
  const avgRating = reviews.length > 0
    ? (reviews.reduce((s, r) => s + r.rating, 0) / reviews.length).toFixed(1)
    : '5.0';
  document.getElementById('starsDisplay').textContent  = '‚òÖ'.repeat(Math.round(avgRating)) + '‚òÜ'.repeat(5 - Math.round(avgRating));
  document.getElementById('ratingCount').textContent   = `(${reviews.length} reviews)`;

  // Stock
  const dot   = document.getElementById('stockDot');
  const txt   = document.getElementById('stockText');
  const stock = Number(product.stock) || 0;
  if (stock === 0) {
    dot.className = 'stock-dot out';
    txt.textContent = 'Out of stock';
    document.getElementById('addCartBtn').disabled = true;
    document.getElementById('stickyCart').disabled = true;
  } else if (stock <= 5) {
    dot.className = 'stock-dot low';
    txt.textContent = `Only ${stock} left ‚Äî order soon!`;
  } else {
    dot.className = 'stock-dot';
    txt.textContent = `${stock} in stock`;
  }

  // Description
  if (product.description) {
    const sec = document.getElementById('descSection');
    const txt = document.getElementById('descText');
    sec.style.display = 'block';
    const MAX = 200;
    if (product.description.length > MAX) {
      txt.textContent = product.description.slice(0, MAX) + '‚Ä¶';
      const btn = document.getElementById('descMoreBtn');
      btn.style.display = 'block';
      btn.textContent = 'Read more';
    } else {
      txt.textContent = product.description;
    }
  }

  // Specs
  const specs = [
    { key: 'Category',  val: product.category },
    { key: 'Condition', val: product.condition },
    { key: 'Stock',     val: product.stock > 0 ? `${product.stock} available` : 'Out of stock' },
    { key: 'Listed',    val: new Date(product.created_at).toLocaleDateString('en-NG', { day: 'numeric', month: 'long', year: 'numeric' }) },
  ];
  document.getElementById('specRows').innerHTML = specs
    .filter(s => s.val)
    .map(s => `<div class="spec-row"><span class="spec-key">${s.key}</span><span class="spec-val">${s.val}</span></div>`)
    .join('');

  // Quantity total
  updateQtyTotal();
}

// ‚îÄ‚îÄ GALLERY ‚îÄ‚îÄ
function renderGallery() {
  const scroll = document.getElementById('galleryScroll');
  const dots   = document.getElementById('galleryDots');
  const count  = document.getElementById('galleryCount');

  if (allImages.length === 0) {
    scroll.innerHTML = `<div class="gallery-slide" style="background:#f0f3fa;display:flex;align-items:center;justify-content:center;min-width:100%;aspect-ratio:1"><i class="fas fa-tag" style="font-size:64px;color:#d1d5db"></i></div>`;
    dots.innerHTML = '';
    count.style.display = 'none';
    return;
  }

  // Slides
  scroll.innerHTML = allImages.map((img, i) =>
    `<div class="gallery-slide" onclick="openFullscreen(${i})">
      <img src="${img}" alt="Product image ${i+1}" loading="${i===0?'eager':'lazy'}" onerror="this.parentElement.innerHTML='<div style=\'display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:#f0f3fa\'><i class=\'fas fa-tag\' style=\'font-size:64px;color:#d1d5db\'></i></div>'" />
    </div>`
  ).join('');

  // Dots (only if >1 image)
  if (allImages.length > 1) {
    dots.innerHTML = allImages.map((_, i) =>
      `<div class="gallery-dot ${i===0?'active':''}" onclick="scrollToSlide(${i})"></div>`
    ).join('');
    count.textContent = `1/${allImages.length}`;
    count.style.display = 'block';
  } else {
    dots.innerHTML = '';
    count.style.display = 'none';
  }

  // Track scroll for dot sync
  scroll.addEventListener('scroll', () => {
    const idx = Math.round(scroll.scrollLeft / scroll.clientWidth);
    if (idx !== galleryIndex) {
      galleryIndex = idx;
      syncDots();
      document.getElementById('galleryCount').textContent = `${idx+1}/${allImages.length}`;
    }
  });
}

function scrollToSlide(i) {
  const scroll = document.getElementById('galleryScroll');
  scroll.scrollTo({ left: i * scroll.clientWidth, behavior: 'smooth' });
}

function syncDots() {
  document.querySelectorAll('.gallery-dot').forEach((d, i) =>
    d.classList.toggle('active', i === galleryIndex)
  );
}

// ‚îÄ‚îÄ FULLSCREEN VIEWER ‚îÄ‚îÄ
window.openFullscreen = function(startIndex) {
  const viewer  = document.getElementById('fullscreenViewer');
  const fsScroll = document.getElementById('fsScroll');
  fsScroll.innerHTML = allImages.map(img =>
    `<div class="fs-slide"><img src="${img}" alt="Product"></div>`
  ).join('');
  viewer.classList.add('open');
  document.body.style.overflow = 'hidden';
  setTimeout(() => {
    fsScroll.scrollTo({ left: startIndex * fsScroll.clientWidth, behavior: 'instant' });
    updateFsCounter();
  }, 50);

  fsScroll.addEventListener('scroll', updateFsCounter);
};

function updateFsCounter() {
  const fsScroll = document.getElementById('fsScroll');
  const idx = Math.round(fsScroll.scrollLeft / fsScroll.clientWidth);
  document.getElementById('fsCounter').textContent = `${idx+1}/${allImages.length}`;
}

window.closeFullscreen = function() {
  document.getElementById('fullscreenViewer').classList.remove('open');
  document.body.style.overflow = '';
};

window.fsNav = function(dir) {
  const fsScroll = document.getElementById('fsScroll');
  const idx = Math.round(fsScroll.scrollLeft / fsScroll.clientWidth);
  const next = Math.max(0, Math.min(allImages.length - 1, idx + dir));
  fsScroll.scrollTo({ left: next * fsScroll.clientWidth, behavior: 'smooth' });
};

// ‚îÄ‚îÄ QUANTITY ‚îÄ‚îÄ
window.changeQty = function(delta) {
  const max = product?.stock || 99;
  quantity = Math.max(1, Math.min(max, quantity + delta));
  document.getElementById('qtyNum').textContent = quantity;
  updateQtyTotal();
};

function updateQtyTotal() {
  if (!product) return;
  const sellPrice = product.display_price || product.price;
  document.getElementById('qtyTotal').textContent = formatPrice(sellPrice * quantity);
}

// ‚îÄ‚îÄ ADD TO CART ‚îÄ‚îÄ
window.handleAddToCart = async function() {
  if (!currentUser) {
    showToast('Please log in to add to cart', 'error');
    setTimeout(() => location.href = 'login.html', 1200);
    return;
  }
  if (!product) return;

  const btn1 = document.getElementById('addCartBtn');
  const btn2 = document.getElementById('stickyCart');

  btn1.disabled = true; btn2.disabled = true;
  btn1.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Adding‚Ä¶';
  btn2.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Adding‚Ä¶';

  try {
    await db_addToCart(currentUser.uid || currentUser.id, product, quantity);
    btn1.innerHTML = '<i class="fas fa-check"></i> Added to Cart!';
    btn2.innerHTML = '<i class="fas fa-check"></i> Added!';
    btn1.classList.add('added'); btn2.classList.add('added');
    showToast('Added to cart! üõí', 'success');

    const count = await db_getCartCount(currentUser.uid || currentUser.id);
    updateCartBadge(count);

    setTimeout(() => {
      btn1.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart';
      btn2.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart';
      btn1.classList.remove('added'); btn2.classList.remove('added');
      btn1.disabled = false; btn2.disabled = false;
    }, 2500);

  } catch(e) {
    showToast('Could not add to cart', 'error');
    btn1.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart';
    btn2.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart';
    btn1.disabled = false; btn2.disabled = false;
  }
};

// ‚îÄ‚îÄ WISHLIST ‚îÄ‚îÄ
window.handleWishlist = async function() {
  if (!currentUser) {
    showToast('Please log in to save to wishlist', 'error');
    setTimeout(() => location.href = 'login.html', 1200);
    return;
  }
  if (!product) return;

  try {
    if (inWishlist) {
      await db_removeFromWishlist(currentUser.uid || currentUser.id, product.id);
      inWishlist = false;
      showToast('Removed from wishlist');
    } else {
      await db_addToWishlist(currentUser.uid || currentUser.id, product);
      inWishlist = true;
      showToast('Saved to wishlist ‚ù§Ô∏è', 'success');
      // Update parent badge
      const wc = await db_getWishlistCount(currentUser.uid || currentUser.id);
      window.parent.postMessage({ type: 'wishlistUpdate', count: wc }, '*');
    }
    syncWishButtons();
  } catch(e) {
    showToast('Something went wrong', 'error');
  }
};

function syncWishButtons() {
  const w1 = document.getElementById('wishBtn');
  const w2 = document.getElementById('stickyWish');
  if (inWishlist) {
    w1.innerHTML = '<i class="fas fa-heart"></i> Saved';
    w1.classList.add('active');
    w2.innerHTML = '<i class="fas fa-heart"></i>';
    w2.classList.add('active');
  } else {
    w1.innerHTML = '<i class="far fa-heart"></i> Wishlist';
    w1.classList.remove('active');
    w2.innerHTML = '<i class="far fa-heart"></i>';
    w2.classList.remove('active');
  }
}

// ‚îÄ‚îÄ WHATSAPP ‚îÄ‚îÄ
window.contactWhatsApp = function() {
  if (!product) return;
  const msg = encodeURIComponent(
    `Hi! I'm interested in this product on MC Store:\n\n*${product.name || product.title}*\nPrice: ${formatPrice(product.price)}\n\nCan you tell me more?`
  );
  window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`, '_blank');
};

// ‚îÄ‚îÄ SHARE ‚îÄ‚îÄ
window.shareProduct = function() {
  const url   = location.href;
  const title = product?.name || product?.title || 'Check this out on MC Store';
  if (navigator.share) {
    navigator.share({ title, text: `${title} ‚Äî ${formatPrice(product?.price)}`, url });
  } else {
    navigator.clipboard.writeText(url).then(() => showToast('Link copied! üìã', 'success'));
  }
};

// ‚îÄ‚îÄ DESCRIPTION TOGGLE ‚îÄ‚îÄ
window.toggleDesc = function() {
  const txt = document.getElementById('descText');
  const btn = document.getElementById('descMoreBtn');
  if (!descExpanded) {
    txt.textContent = product.description;
    btn.textContent = 'Show less';
    descExpanded = true;
  } else {
    txt.textContent = product.description.slice(0, 200) + '‚Ä¶';
    btn.textContent = 'Read more';
    descExpanded = false;
  }
};

// ‚îÄ‚îÄ LOAD REVIEWS ‚îÄ‚îÄ
async function loadReviews() {
  try {
    reviews = await db_getReviews(productId) || [];
  } catch(e) { reviews = []; }
  renderReviews();
}

function renderReviews() {
  const avg = reviews.length > 0
    ? (reviews.reduce((s,r) => s + r.rating, 0) / reviews.length)
    : 5;

  document.getElementById('bigRating').textContent = reviews.length > 0 ? avg.toFixed(1) : '‚Äî';
  document.getElementById('bigCount').textContent  = `${reviews.length} review${reviews.length !== 1 ? 's' : ''}`;
  document.getElementById('starsDisplay').textContent  = '‚òÖ'.repeat(Math.round(avg)) + '‚òÜ'.repeat(5-Math.round(avg));
  document.getElementById('ratingCount').textContent   = `(${reviews.length} reviews)`;

  // Rating bars
  const bars = document.getElementById('ratingBars');
  bars.innerHTML = [5,4,3,2,1].map(n => {
    const count = reviews.filter(r => r.rating === n).length;
    const pct   = reviews.length > 0 ? (count / reviews.length * 100) : 0;
    return `<div class="bar-row">
      <span class="bar-label">${n}</span>
      <div class="bar-track"><div class="bar-fill" style="width:${pct}%"></div></div>
      <span class="bar-count">${count}</span>
    </div>`;
  }).join('');

  // Review cards
  const list = document.getElementById('reviewsList');
  if (reviews.length === 0) {
    list.innerHTML = `<div style="text-align:center;padding:20px 0;color:var(--sub);font-size:14px">No reviews yet ‚Äî be the first! üåü</div>`;
    return;
  }
  list.innerHTML = reviews.slice(0, 5).map(r => {
    const name   = r.user_name || r.name || 'Anonymous';
    const letter = name[0].toUpperCase();
    const stars  = '‚òÖ'.repeat(r.rating) + '‚òÜ'.repeat(5-r.rating);
    const date   = new Date(r.created_at).toLocaleDateString('en-NG', { day: 'numeric', month: 'short', year: 'numeric' });
    return `<div class="review-card">
      <div class="review-header">
        <div class="review-avatar">${letter}</div>
        <div>
          <div class="review-name">${name}</div>
          <div class="review-date">${date}</div>
        </div>
        <div class="review-stars" style="margin-left:auto">${stars}</div>
      </div>
      <div class="review-text">${r.comment || r.text || ''}</div>
    </div>`;
  }).join('');
}

// ‚îÄ‚îÄ REVIEW MODAL ‚îÄ‚îÄ
window.openReviewModal = function() {
  if (!currentUser) {
    showToast('Please log in to write a review', 'error');
    setTimeout(() => location.href = 'login.html', 1200);
    return;
  }
  document.getElementById('reviewModal').classList.add('open');
  document.body.style.overflow = 'hidden';
};

window.closeReviewModal = function(e) {
  if (e.target === document.getElementById('reviewModal')) {
    document.getElementById('reviewModal').classList.remove('open');
    document.body.style.overflow = '';
  }
};

window.setStars = function(n) {
  selectedStars = n;
  document.querySelectorAll('.star-pick').forEach((s, i) =>
    s.classList.toggle('lit', i < n)
  );
};

window.submitReview = async function() {
  if (!selectedStars) { showToast('Please select a star rating', 'error'); return; }
  const text = document.getElementById('reviewText').value.trim();
  if (!text) { showToast('Please write something', 'error'); return; }

  try {
    await db_addReview({
      uid:        currentUser.uid || currentUser.id,
      productId,
      userName:   currentUser.fullName || currentUser.displayName || currentUser.email?.split('@')[0] || 'Customer',
      rating:     selectedStars,
      comment:    text
    });
    document.getElementById('reviewModal').classList.remove('open');
    document.body.style.overflow = '';
    document.getElementById('reviewText').value = '';
    selectedStars = 0;
    document.querySelectorAll('.star-pick').forEach(s => s.classList.remove('lit'));
    showToast('Review posted! Thank you üåü', 'success');
    await loadReviews();
  } catch(e) {
    showToast('Could not post review', 'error');
  }
};

// ‚îÄ‚îÄ LOAD RELATED ‚îÄ‚îÄ
async function loadRelated() {
  try {
    const related = await getProducts({ category: product.category, limit: 10 });
    const filtered = related.filter(p => p.id !== product.id).slice(0, 8);
    const scroll = document.getElementById('relatedScroll');
    if (filtered.length === 0) {
      scroll.innerHTML = `<div style="color:var(--sub);font-size:13px;padding:8px 0">No related products yet</div>`;
      return;
    }
    scroll.innerHTML = filtered.map(p => {
      const img = p.image_url || (Array.isArray(p.images) && p.images[0]);
      return `<div class="related-card" onclick="location.href='product.html?id=${p.id}'">
        ${img
          ? `<img class="related-img" src="${img}" alt="${p.name||p.title}" loading="lazy" onerror="this.style.display='none'">`
          : `<div class="related-img-placeholder"><i class="fas fa-tag"></i></div>`
        }
        <div class="related-info">
          <div class="related-name">${p.name || p.title}</div>
          <div class="related-price">${formatPrice(p.display_price || p.price)}</div>
        </div>
      </div>`;
    }).join('');
  } catch(e) {
    document.getElementById('relatedScroll').innerHTML = '';
  }
}

// ‚îÄ‚îÄ HELPERS ‚îÄ‚îÄ
function showNotFound() {
  document.getElementById('skeletonView').style.display = 'none';
  document.getElementById('notFound').style.display = 'flex';
}

function showToast(msg, type = '') {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className   = 'toast show' + (type ? ' ' + type : '');
  clearTimeout(t._timer);
  t._timer = setTimeout(() => t.className = 'toast', 2800);
}

function updateCartBadge(count) {
  const b = document.getElementById('cartBadge');
  b.textContent = count;
  b.className   = 'badge' + (count > 0 ? ' show' : '');
}
</script>
</body>
</html>
